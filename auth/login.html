<!doctype html>
<html lang="en">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Login - QuickGig</title>
<link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
<header class="site-header"><div class="container header-inner"><a href="../index.html" class="brand">QuickGig</a></div></header>
<main class="container auth-page">
  <div class="card auth-card">
    <h2>Login</h2>
    <form id="loginForm">
      <label>Email or School ID<input type="text" id="login-identifier" required></label>
      <label>Password<input type="password" id="login-password" required></label>
      <div class="form-row">
        <button type="submit" class="btn">Login</button>
        <a href="register.html" class="link">Create account</a>
      </div>
      <div id="login-msg" class="msg"></div>
    </form>
  </div>
</main>
<footer class="site-footer"><div class="container">Â© 2025 QuickGig</div></footer>
<script src="../assets/js/utils.js"></script>
<script src="../assets/js/auth.js"></script>
<script>
document.getElementById('loginForm').addEventListener('submit', function(e){
  e.preventDefault();
  const id = document.getElementById('login-identifier').value.trim();
  const pw = document.getElementById('login-password').value;
  const result = login(id, pw);
  const msg = document.getElementById('login-msg');
  if(result.success){
    msg.textContent = 'Login successful. Redirecting...';
    setTimeout(()=>{ window.location.href = result.redirect; }, 600);
  } else {
    msg.textContent = result.message;
  }
});
</script>
</body>
</html>
